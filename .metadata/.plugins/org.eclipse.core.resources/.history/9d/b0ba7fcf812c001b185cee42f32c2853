package Model;

import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.util.ArrayList;
import java.util.List;



import Helper.DatabaseUtil;



public class DAO {
public List<DTO> getListBook() throws SQLException{
	List<DTO> listBook = new ArrayList<>();
	String sql = "select author from book";
	PreparedStatement ps = DatabaseUtil.getInstance().getConn().prepareStatement(sql); // cai nay viet dung k
	//dung, nhung lenh select thi khong can thiet, prepare statement chi can thiet khi can truyen tham so vao cau lenh query    okkkk
	ResultSet rs = ps.executeQuery();
	while (rs.next()) {
		DTO book = new DTO();
		book.setNameBook(rs.getString(1));
		book.setAuthorBook(rs.getString(2));
		book.setCategoryBook(rs.getString(3));
		book.setIdBook(rs.getInt(4));
		listBook.add(book);
	}

	return listBook;
}
	
	
}

