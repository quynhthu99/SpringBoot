package Model;

import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.util.ArrayList;
import java.util.List;



import Helper.DatabaseUtil;



public class DAO {
	List<DTO> listBook = new ArrayList<>();
	public List<DTO> getListBook() throws SQLException{
		
		String sql = "select * from book";
		PreparedStatement ps = DatabaseUtil.getInstance().getConn().prepareStatement(sql);
		ResultSet rs = ps.executeQuery();
		while (rs.next()) {
			DTO book = new DTO();
			book.setNameBook(rs.getString(1));
			book.setAuthorBook(rs.getString(2));
			book.setCategoryBook(rs.getString(3));
			book.setIdBook(rs.getInt(4));
			listBook.add(book);
		}

		return listBook;
	}
	public boolean addBook(String name, String author, String category, int id) throws SQLException {
		String sql = "insert into book(Name, author, category, id) values ( ?,?,?,?) ";
		PreparedStatement ps = DatabaseUtil.getInstance().getConn().prepareStatement(sql);
		ResultSet rs = ps.executeQuery();
		while (rs.next()) {
			DTO book = new DTO();
		}
		return false;
	}
	public boolean updateBook() {
		String sql = "update [book] set author = ? where id = ?";
		return false;
	}
	public boolean deleteBook() {
		String sql = "";
		return false;
	}
	
	
}

